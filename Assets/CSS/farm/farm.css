.tasks-container {
    position: sticky;
    top: 10%;
    left: 0;
    height: calc(100vh - 12vh);
    z-index: 100;
    display: flex;
    align-items: center;
    transition: left 0.3s;
    border: 1px dashed black ;
    flex-direction: row;
    transition: transform 0.3s;
    /* align-self: flex-start; */
}

.tasks-section-wrapper {
    width: 90%;
    min-width: 240px;
    background: #fff;
    transition: transform 0.3s;
    box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    border-radius: 0 8px 8px 0;
    height: 100%;
    overflow-y: auto;
}

#tasks-arrow {
    /* position: absolute; */
    /* top: 50%; */
    /* transform: translateY(-50%); */
    background: #4BAF47;
    color: white;
    border-radius: 0 4px 4px 0;
    width: 5%;
    height: 48px;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    z-index: 101;
    transition: transform 0.3s;
}

#arrow-icon {
    transition: transform 0.3s;
    transform: rotate(180deg);
}


.tasks-container.collapsed{
    /* align-self: flex-start; */
    /* position: static; */

    transform: translateX(-37.5vw);
    /* transform: translateX(10px); */
}

/* .tasks-container.collapsed .tasks-section-wrapper {
    transform: translateX(-200%);
}

.tasks-container.collapsed #tasks-arrow {
    transform: translateX(-200%);
} */

.tasks-container.collapsed #arrow-icon {
    transform: rotate(0deg);
}







.farm-details {
    flex-basis: 100%;
    /* Full width initially, then adjusted */
    display: flex;
    flex-direction: column;
    align-items: center;
    border: 1px solid #eee;
    padding: 20px;
    border-radius: 8px;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    margin-bottom: 20px;
}

.farm-map {
    width: 90%;
    margin-bottom: 20px;
    border-radius: 0.25rem;
    overflow: hidden;
}

.farm-map iframe {
    object-fit: cover;
    border-radius: inherit;
    width: 100%;
    height: 300px;
    border: 0;
}

.farm-info{
    width: 70%;
    font-weight: bold;
    padding: 15px 0;
}

/* Tasks Section (Sticky Left) */
/* .tasks-section-wrapper {
    flex-basis: 30%;
    position: sticky;
    top: 20px;
    height: calc(100vh - 60px);
    overflow-y: auto;
    border-radius: 8px;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    padding: 20px;
} */

.section-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 15px;
    font-size: small;
}

.add-button {
    background-color: white;
    font-weight: bolder;
    font-size: large;
    color: black;
    border: 3px solid black;
    padding: 2px 8px;
    border-radius: 4px;
    cursor: pointer;
    margin-left: 10px;
}

.add-button:hover {
    background-color: white;
    color: #4BAF47;
    border: none;
}

.add-button:active {
    color: white;
    background-color: #4BAF47;
    border: none;
}

.tasks-table {
    width: 100%;
    border-collapse: separate;
    border-spacing: 0 10px;
    box-shadow: none;
    border-radius: 8px;
}


.tasks-table tbody tr {
    background-color: white;
    box-shadow: 0 1px 4px rgba(0, 0, 0, 0.2);
    border-radius: 8px;
    margin-bottom: 10px;
    font-size: small;
}

.tasks-table th,
.tasks-table td {
    padding: 12px 15px;
    text-align: left;
    border: none;
}

.tasks-table img {
    width: 60px;
    height: 60px;
    object-fit: cover;
    border-radius: 4px;
    vertical-align: middle;
    margin-right: 8px;
}

.task-details {
    flex-basis: 100%;
    background-color: #F8F7F0;
    border-radius: 8px;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    padding: 20px;
}

.npk-measurements {
    margin-bottom: 20px;
    background-color: #ffffff;
    border-radius: 8px;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    padding: 20px;
}

.gauge-container {
    width: 200px;
    height: 150px;
    margin: 0 auto;
}

#map {
    height: 400px;
    border-radius: 0.25rem;
    margin-top: 15px;
    border: 1px solid #ced4da;
    /* Optional border for the map */
}

#nitrogenGauge,
#phosphorusGauge,
#potassiumGauge {
    width: 100%;
    max-width: 300px;
    /* Adjust as needed */
    height: auto;
    /* Maintain aspect ratio */
    margin: 0 auto;
    /* Center the gauges */
}

#npkBarChart {
    width: 100%;
    height: 300px;
    margin-top: 20px;
}

/* Responsive adjustments */
@media (max-width: 768px) {
    main {
        flex-direction: column;
    }

    .farm-details {
        width: 100%;
        margin: 10px auto;
    }

    .tasks-section-wrapper {
        width: 100%;
        order: 2;
        /* Move tasks section below farm details */
        margin-top: 20px;
    }

    .task-details {
        width: 100%;
        margin-top: 20px;
        order: 3;
        /* Move task details below tasks */
    }
}












#main-container {
    padding-bottom: 50px;
}


#app-container {
    display: flex;
    width: 100%;
    height: auto;
    margin-top: 10px; /* Space for the main title */
    position: relative; /* For positioning children like the toggle button */
}

#tasks-list-container {
    width: 40%;
    height: 100%;
    background-color: #ffffff;
    padding: 20px;
    box-sizing: border-box;
    overflow-y: visible;
    transition: width 0.4s ease, padding 0.4s ease, opacity 0.4s ease;
    position: relative; /* For the toggle button positioning */
    border-right: 1px solid #e0e0e0;
}

#tasks-list-container.collapsed {
    width: 0;
    padding: 20px 0;
    opacity: 0;
    overflow: hidden;
}

#task-details-view {
    width: 60%;
    height: 100%;
    margin-left: 15px;
    box-sizing: border-box;
    background-color: rgba(255, 255, 255, 0);
    overflow-y: auto;
    transition: width 0.4s ease;
    border-radius: 8px;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    border: 1px solid #eee;
}

#tasks-list-container.collapsed ~ #task-details-view {
    width: 100%;
    padding: 0;
}

.main-title {
    position: fixed; /* Keep title at the top */
    top: 0;
    left: 0;
    width: 100%;
    background-color: #2c3e50;
    color: white;
    padding: 15px 0;
    text-align: center;
    z-index: 1001; /* Above message box overlay */
    font-size: 1.8em;
    box-shadow: 0 2px 5px rgba(0,0,0,0.1);
}

/* Updated positioning for the toggle button */
#toggle-tasks-visibility-btn {
    position: absolute;
    top: 50%;
    /* When tasks list is visible, position button's right edge at 40% mark */
    left: 41.5%;
    transform: translateY(-50%) translateX(-100%); /* Shifts button left by its full width */
    z-index: 50;
    background-color: #4baf47;
    color: white;
    border: none;
    width: 40px;
    height: 40px;
    border-radius: 50%;
    cursor: pointer;
    font-size: 1.5em;
    line-height: 40px;
    text-align: center;
    padding: auto;
    box-shadow: 0 2px 8px rgba(0,0,0,0.2);
    transition: background-color 0.4s ease, left 0.4s ease, transform 0.4s ease;
}

/* When tasks-list-container is collapsed (desktop), move button to the far left */
#tasks-list-container.collapsed ~ #toggle-tasks-visibility-btn {
    left: -30px; /* Move to the far left of app-container */
    transform: translateY(-50%) rotate(360deg); /* Rotate the arrow */
    background-color: #4baf47;
}

#toggle-tasks-visibility-btn:hover {
    background-color: #065c06;
}

.task-item { cursor: pointer; }
.task-item:hover { background-color: #e9ecef; }


img {
    max-width: 40px; /* Slightly smaller images in table */
    height: auto;
    border-radius: 4px;
    vertical-align: middle;
}

/* Task Details View Styling */
#task-details-view .details-placeholder,
#task-details-view .details-content {
    padding: 20px;
    border-radius: 8px;
    background-color: #fff;
    box-shadow: 0 2px 10px rgba(0,0,0,0.08);
}
#task-details-view .details-placeholder {
    text-align: center;
    color: #777;
    font-size: 1.2em;
}
#task-details-view .details-content h3 {
    margin-top: 0;
    color: #21ca54;
    border-bottom: 2px solid #2e792c;
    padding-bottom: 10px;
    margin-bottom: 20px;
}
#task-details-view .details-content p {
    margin-bottom: 12px;
    line-height: 1.6;
}
#task-details-view .details-content strong {
    color: #555;
}
#task-details-view .details-content img {
    max-width: 100px;
    border-radius: 8px;
    margin-bottom: 15px;
    display: block;
}

/* Styling for the message box (remains largely the same) */
.message-box-overlay {
    position: fixed; top: 0; left: 0; width: 100%; height: 100%;
    background-color: rgba(0, 0, 0, 0.6); display: flex;
    justify-content: center; align-items: center; z-index: 1000;
    opacity: 0; visibility: hidden; transition: opacity 0.3s ease, visibility 0.3s ease;
}
.message-box-overlay.visible { opacity: 1; visibility: visible; }
.message-box-content {
    background-color: white; padding: 30px; border-radius: 8px;
    box-shadow: 0 5px 20px rgba(0, 0, 0, 0.2); text-align: center;
    min-width: 300px; max-width: 90%;
}
.message-box-content h2 { margin-top: 0; color: #3498db; }
.message-box-content p { margin-bottom: 20px; font-size: 1.1em; }
.message-box-content button {
    background-color: #3498db; color: white; border: none;
    padding: 10px 20px; border-radius: 5px; cursor: pointer;
    font-size: 1em; transition: background-color 0.2s ease;
}
.message-box-content button:hover { background-color: #2980b9; }

/* Responsive adjustments */
@media (max-width: 768px) {
    body {
        padding-top: 50px; /* Adjust for smaller fixed header */
    }
        .main-title {
        font-size: 1.4em;
        padding: 10px 0;
    }
    #app-container {
        flex-direction: column;
        height: auto; /* Let content define height */
        margin-top: 0; /* No margin as title is fixed and body has padding */
    }

    #tasks-list-container {
        width: 100% !important; /* Override inline styles if any */
        height: auto;
        max-height: 50vh; /* Limit height when visible */
        border-right: none;
        border-bottom: 1px solid #e0e0e0;
        padding: 15px;
        opacity: 1 !important; /* Ensure it's visible unless .mobile-collapsed */
    }

    #tasks-list-container.mobile-collapsed {
        height: 50px; /* Collapsed bar height */
        padding: 0 15px !important;
        overflow: hidden;
        display: flex;
        align-items: center;
        justify-content: flex-end; /* Button to the right */
    }
    #tasks-list-container.mobile-collapsed h2,
    #tasks-list-container.mobile-collapsed table {
        display: none; /* Hide table and title when collapsed to bar */
    }

    #task-details-view {
        width: 100% !important; /* Full width */
        height: auto;
        min-height: 50vh; /* Ensure it takes up reasonable space */
        padding: 20px;
    }
    
    /* Mobile adjustments for the button when it's a sibling */
    #toggle-tasks-visibility-btn {
        position: static; /* Override absolute positioning */
        transform: none; /* Remove transforms (including rotation) */
        margin: 10px auto; /* Center it below tasks or within the bar */
        display: block; /* Make it a block to center with margin auto */
        width: 80%;
        max-width: 200px;
        border-radius: 5px;
        font-size: 1em;
        height: auto; /* Allow height to adjust based on padding */
        line-height: normal; /* Reset line-height */
        padding: 10px 20px; /* Consistent padding */
    }

    /* The following rule is no longer needed as the button is not a child of tasks-list-container */
    /* #tasks-list-container.mobile-collapsed #toggle-tasks-visibility-btn {
            margin: 0;
            width: auto;
            padding: 5px 10px;
            font-size: 0.9em;
            height: 30px;
            line-height: 20px;
    } */
}